@page "/guides/detail/{Id:int}"
@using AdventureManagement.BUS.ViewModel.GuideViewModel
@using AdventureManagement.BUS.Services.Interface
@using MudBlazor
@inject IGuideService GuideService
@inject NavigationManager Navigation

<MudContainer MaxWidth="MaxWidth.Medium" Class="d-flex justify-center">
    <MudPaper Class="p-4 m-4" Elevation="1" Style="width: 100%;">
        <MudText Typo="Typo.h6" GutterBottom="true">Thông Tin Guide</MudText>

        @if (Guide != null)
        {
            <MudGrid>
                <MudItem xs="4">
                    <strong>Tên:</strong>
                </MudItem>
                <MudItem xs="8">
                    @Guide.Name
                </MudItem>

                <MudItem xs="4">
                    <strong>Chuyên môn:</strong>
                </MudItem>
                <MudItem xs="8">
                    @Guide.Expertise
                </MudItem>

                <MudItem xs="4">
                    <strong>Kinh nghiệm (năm):</strong>
                </MudItem>
                <MudItem xs="8">
                    @Guide.ExperienceYears
                </MudItem>
            </MudGrid>

            <MudButton Color="Color.Secondary" Variant="Variant.Outlined" OnClick="GoBack" StartIcon="@Icons.Material.Filled.ArrowBack" Class="mt-4">
                Quay Lại
            </MudButton>
        }
        else
        {
            <MudText Typo="Typo.body1">Đang tải dữ liệu...</MudText>
        }
    </MudPaper>
</MudContainer>

@code {
    [Parameter] public int Id { get; set; }
    private GuideVM Guide { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Guide = await GuideService.GetGuideByIdAsync(Id);
    }

    private void GoBack()
    {
        Navigation.NavigateTo("/guide/list");
    }
}
