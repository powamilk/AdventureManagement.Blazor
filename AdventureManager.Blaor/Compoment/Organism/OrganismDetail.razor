@page "/organisms/detail/{Id:int}"
@using AdventureManagement.BUS.ViewModel.OrganismViewModel
@using AdventureManagement.BUS.Services.Interface
@using MudBlazor
@inject IOrganismService OrganismService
@inject NavigationManager Navigation

<MudContainer MaxWidth="MaxWidth.Medium" Class="d-flex justify-center">
    <MudPaper Class="p-4 m-4" Elevation="1" Style="width: 100%;">
        <MudText Typo="Typo.h6" GutterBottom="true">Thông Tin Organism</MudText>

        @if (Organism != null)
        {
            <MudGrid>
                <MudItem xs="4">
                    <strong>Tên:</strong>
                </MudItem>
                <MudItem xs="8">
                    @Organism.Name
                </MudItem>

                <MudItem xs="4">
                    <strong>Mô tả:</strong>
                </MudItem>
                <MudItem xs="8">
                    @Organism.Description
                </MudItem>

                <MudItem xs="4">
                    <strong>Môi trường sống:</strong>
                </MudItem>
                <MudItem xs="8">
                    @Organism.Habitat
                </MudItem>
            </MudGrid>

            <MudButton Color="Color.Secondary" Variant="Variant.Outlined" OnClick="GoBack" StartIcon="@Icons.Material.Filled.ArrowBack" Class="mt-4">
                Quay Lại
            </MudButton>
        }
        else
        {
            <MudText Typo="Typo.body1">Đang tải dữ liệu...</MudText>
        }
    </MudPaper>
</MudContainer>

@code {
    [Parameter] public int Id { get; set; }
    private OrganismVM Organism { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Organism = await OrganismService.GetOrganismByIdAsync(Id);
    }

    private void GoBack()
    {
        Navigation.NavigateTo("/organism/list");
    }
}
